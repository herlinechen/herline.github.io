<!DOCTYPE HTML>
<html>
	<head>
		<meta charset='utf-8' />
		<title>使用计时事件制作的钟表2</title>
	</head>
	<body>		
		<div id='content'></div>
		<button onclick='startCount()'>开始计时</button>
		<button onclick='stopCount()'>结束计时</button><br />
		<script>
			
			var str = '';
			var time = 0, t;
			function timeCount(){
				if(!time){
					return;
				}
				var d = new Date(),
				h = d.getHours(),
				m = d.getMinutes(),
				s = d.getSeconds();
				str = h+':'+checkVal(m)+':'+checkVal(s);
				document.getElementById('content').innerHTML = str;
				t = setTimeout('timeCount()', 1000);// 间隔时间为1000毫秒。当间隔时间为500毫秒时，实际的一秒中timeCount函数执行了两次，其中一次时间并没有变，所有看起来还是秒针时间一秒更新一次。
			}
			function checkVal(v){
				if(v < 10){
					return '0'+v;
				}else{
					return v;
				}
			}

			function startCount(){
				if(!time){
					time = 1;
					timeCount();
				}
			}
			function stopCount(){
				clearTimeout(t);
				time = 0;
			}


			//创建对象的模板
			function person (name, age, sex){
				this.name = name;
				this.age = age;
				this.sex = sex;
			}
			person.prototype.personinfo = function (){
				document.write(this.name+','+this.age+','+this.sex);
			}
			var p1 = new person('herline', 28, 'woman');
			p1.personinfo();
		</script>
		<!--<script src='myfunc.js'></script>-->
	</body>
</html>